<header class="header">
  <h1>Мероприятия</h1>
  <p-button [loading]="isCreating()" (onClick)="create()">Создать</p-button>
</header>

<div class="line-loader">
  @if (isListLoading()) {
    <p-progressbar [style]="{ height: '4px' }" mode="indeterminate" />
  }
</div>

<p-table [value]="events()" [tableStyle]="{ 'min-width': '50rem' }">
  <ng-template #header>
    <tr>
      <th>Название</th>
      <th>Описание</th>
      <th>Место проведения</th>
      <th>Тип</th>
      <th>Управление</th>
    </tr>
  </ng-template>
  <ng-template #body let-event>
    <tr>
      <td>{{ event.name }}</td>
      <td>{{ event.description }}</td>
      <td>{{ event.location }}</td>
      <td>{{ event.type === 'music' ? 'Музыкальное' : 'Спортивное' }}</td>
      <td class="buttons">
        <p-button
          [loading]="editingItemId() === event.id"
          (onClick)="edit(event)"
          severity="warn">
          Редактировать
        </p-button>
        <p-button
          [loading]="removingItemId() === event.id"
          (onClick)="remove(event.id)"
          severity="danger">
          Удалить
        </p-button>
      </td>
    </tr>
  </ng-template>
</p-table>
